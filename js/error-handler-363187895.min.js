window.onerror=function(e,r,n,t,o){return reportError({"[JS Error]":e,Script:r,Line:n,Column:t,StackTrace:o}),!1},window.addEventListener("unhandledrejection",function(e){alert("Error occurred: "+e.reason.message),reportError({"[JS Error]":e.reason.message})});var n=[];function reportError(e){var r;n.indexOf(JSON.stringify(e))<0&&(n.push(JSON.stringify(e)),(r=new XMLHttpRequest).open("POST",window.BARNEY_ENDPOINT+"/report-js-error",!0),r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify({info:e,userAgent:navigator.userAgent})))}