angular.module("app",["ngSanitize","ngMaterial","ngMessages","ngMdIcons","ngclipboard","angular.snackbar","star-rating","fayzaan.gRecaptcha.v3"]).config(["$provide","$compileProvider","$mdThemingProvider","$sceDelegateProvider","$locationProvider",function(e,r,i,t){r.debugInfoEnabled(!1),i.disableTheming(!0),e.decorator("$exceptionHandler",["$delegate",function(i){return function(e,r){i(e,r),reportError(JSON.stringify({exception:"object"==typeof e?e.stack:""+e,cause:""+r}))}}]),t.resourceUrlWhitelist(["https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@**","**/partials/*"])}]);var e=angular.module("app");e.controller("ReviewsLandingController",["$scope","$window","$http","$timeout","commonFunctionsService","gRecaptcha",function(t,n,a,o,e,r){t.tooltipCopySuccessful=e.tooltipCopySuccessful,t.track=e.track,t.trackSystem=e.trackSystem,t.showCountriesMenu=e.showCountriesMenu,t.redirectTo=function(e){n.open(e,"_blank")},r.initialize({key:"6Le6vr8ZAAAAAH6G2kvLs-VDT1cKIa_UGepnpMBI"}),t.providerValues=[],t.onLandingRatingChange=function(e,r,i){t.providerValues[e][r]=i,t.providerValues[e].support_rating&&t.providerValues[e].usability_rating&&t.providerValues[e].transfer_speed_rating&&(t.providerValues[e].flip=!0)},t.submitReview=function(i){!t.providerValues[i].comment||t.providerValues[i].comment.length<20||1500<t.providerValues[i].comment.length?t.providerValues[i].review_comment_area_is_invalid=!0:t.providerValues[i].support_rating&&t.providerValues[i].usability_rating&&t.providerValues[i].transfer_speed_rating&&(t.providerValues[i].submitting||(t.providerValues[i].submitting=!0,r.execute({action:"submit_review_in_landing"}).then(function(e){var r={provider_id:i,review_comment:t.providerValues[i].comment,transfer_speed_rating:t.providerValues[i].transfer_speed_rating,usability_rating:t.providerValues[i].usability_rating,support_rating:t.providerValues[i].support_rating};r.captcha_response=e;e=n.BARNEY_ENDPOINT+"/"+n.COUNTRY+"/reviews/";"br"!=n.COUNTRY&&(e=n.BARNEY_ENDPOINT+"/reviews/"),a.put(e,r),o(function(){t.providerValues[i].review_comment_area_is_invalid=!1,t.providerValues[i].submitted=!0,t.providerValues[i].submitting=!1},1)})))}}]);