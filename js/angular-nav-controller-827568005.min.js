var e=angular.module("app");e.controller("NavController",["$scope","$window","$http","$interval","$timeout",function(c,e,i,n,a){c.coin_prices={},c.usd_prices={},loadcoinprices_etag=null,loadCoinPrices=function(){i.get(e.PRICES_ENDPOINT+"/"+e.COUNTRY+"/prices/general_coin_prices",{headers:{"If-None-Match":loadcoinprices_etag}}).then(function(e){loadcoinprices_etag=e.headers("Etag"),updateCoinPrices(e.data)},function(){})},loadusprices_etag=null,loadUsdPrices=function(){i.get(e.PRICES_ENDPOINT+"/"+e.COUNTRY+"/prices/general_usd_prices",{headers:{"If-None-Match":loadusprices_etag}}).then(function(e){loadusprices_etag=e.headers("Etag"),updateUsdPrices(e.data)},function(){})},updateCoinPrices=function(e){c.coin_prices=e},updateUsdPrices=function(e){c.usd_prices=e},loadCoinPrices(),loadUsdPrices();var o,s,d,r=n(loadCoinPrices,6e4),t=n(loadUsdPrices,6e4),l=!0;document.addEventListener("visibilitychange",function(){l=!0,n.cancel(r),n.cancel(t),a.cancel(o),a.cancel(s),document.hidden?l=!1:(o=a(loadCoinPrices,500),s=a(loadUsdPrices,500),r=n(loadCoinPrices,6e4),t=n(loadUsdPrices,6e4))}),window.addEventListener("focus",function(){a.cancel(d),d=a(function(){l||(n.cancel(r),n.cancel(t),a.cancel(o),a.cancel(s),o=a(loadCoinPrices,1),s=a(loadUsdPrices,1),r=n(loadCoinPrices,6e4),t=n(loadUsdPrices,6e4),l=!0)},499)})}]);