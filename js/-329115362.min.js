angular.module("app",["ngSanitize","ngMaterial","ngMessages","ngMdIcons","ngclipboard","angular.snackbar","tooltips"]).config(["$provide","$compileProvider","$mdThemingProvider","$sceDelegateProvider",function(e,t,a,n){t.debugInfoEnabled(!1),a.disableTheming(!0),e.decorator("$locale",["$delegate",function(e){return e.NUMBER_FORMATS.DECIMAL_SEP=",",e.NUMBER_FORMATS.GROUP_SEP=".",e}]),e.decorator("$exceptionHandler",["$delegate",function(a){return function(e,t){a(e,t),reportError(JSON.stringify({exception:"object"==typeof e?e.stack:""+e,cause:""+t}))}}]),n.resourceUrlWhitelist(["https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@**","https://www.flaticon.com/free-icon/**","**/partials/*","**/static/**"])}]);var e=angular.module("app");e.service("providersService",function(){var t=new Set;this.get=function(){return Array.from(t).sort()},this.add=function(e){t.add(e)},this.delete=function(e){t.delete(e)},this.clear=function(){t.clear()}}),(e=angular.module("app")).controller("MainController",["$scope","$window","$q","$http","$interval","$timeout","$mdDialog","$animate","$mdPanel","providersService","commonFunctionsService",function(p,g,e,t,s,m,n,a,o,r,i){p.tooltipCopySuccessful=i.tooltipCopySuccessful,p.track=i.track,p.trackSystem=i.trackSystem,a.enabled(angular.element(document.getElementById("roll-calculator-dialog")),!1),p.redirectTo=function(e){g.location.href=e};p.currencySelected=-1<["ARS","USD"].indexOf(g.localStorage.getItem("currency_selected"))?g.localStorage.getItem("currency_selected"):g.localStorage.removeItem("currency_selected")||"ARS";var d=[C];p.visibleFiltersDialog=!1;var S={},l={},c=!1,v=new Set,y=new Map;p.IS_MOBILE=window.IS_MOBILE,p.customAlertsConfig=JSON.parse(g.localStorage.getItem("custom_alerts_config"))||{},p.customAlertsEnabled=!!JSON.parse(g.localStorage.getItem("custom_alerts_enabled"))&&!angular.equals(p.customAlertsConfig,{})||!1,p.getCustomAlertText=function(){if(p.getAlertsEnabled()){var e,t=[];for(e in p.customAlertsConfig.coins)p.customAlertsConfig.coins[e].selected&&t.push(p.customAlertsConfig.coins[e].code);var a="";1<t.length?(a=t.slice(0,-1).join(", "),a+=" y "+t.slice(-1)[0]):a=t[0];var n="Ten√©s alertas configuradas.";return p.customAlertsEnabled&&(n="Ten√©s una alerta para "+a+" desde "+p.customAlertsConfig.profit.replace(".",",")+"% de ganancia."),n}return""},p.alertsEnabled=!!JSON.parse(g.localStorage.getItem("generic_alerts_enabled"))||p.customAlertsEnabled||!1,p.getAlertsEnabled=function(){return p.alertsEnabled},p.alertsPermissionGrantedInThePast="Notification"in window&&"granted"===Notification.permission,p.rollsLoadingStatus="indeterminate",p.maxDecimalsPerCoin={BTC:7,ETH:7,DAI:2,USDC:2,USDT:2};var u=[];u.ARS=new Set,u.USD=new Set;try{u.ARS=new Set(JSON.parse(g.localStorage.getItem("blocked_providers_ars")))}catch(e){g.localStorage.setItem("blocked_providers_ars",JSON.stringify([]))}try{u.USD=new Set(JSON.parse(g.localStorage.getItem("blocked_providers_usd")))}catch(e){g.localStorage.setItem("blocked_providers_usd",JSON.stringify([]))}p.appliedFiltersText=function(){return 0<u[p.currencySelected].size?" ("+u[p.currencySelected].size+")":""};var f=[];f.ARS=new Set,f.USD=new Set;try{f.ARS=new Set(JSON.parse(g.localStorage.getItem("blocked_providers_ars")))}catch(e){g.localStorage.setItem("blocked_providers_ars",JSON.stringify([]))}try{f.USD=new Set(JSON.parse(g.localStorage.getItem("blocked_providers_usd")))}catch(e){g.localStorage.setItem("blocked_providers_usd",JSON.stringify([]))}function b(){return Array.from(u[p.currencySelected]).sort()}function _(n,o){return p.coinsData[n]=p.coinsData[n]||{},p.coinsData[n][o]=p.coinsData[n][o]||{},p.coinsData[n][o].loadingStatus="indeterminate",t.get(g.PRICES_ENDPOINT+"/prices/"+p.currencySelected+"/"+n+"/"+o+(0<b().length?"?not="+b().join():""),{headers:{"If-None-Match":l[n+o+p.currencySelected+b().join("")]}}).then(function(e){var t,a=[];for(t in l[n+o+p.currencySelected+b().join("")]=e.headers("Etag"),e.data)e.data[t].fields[p.currencySelected]&&(e.data[t].fields.price=e.data[t].fields[p.currencySelected],e.data[t].fields.price.currencyMask="ARS"==p.currencySelected?"$":"US$",a.push(e.data[t]),r.add(e.data[t].fields.name),u[p.currencySelected].forEach(r.add,r));p.coinsData[n][o]=a},function(e){304!==e.status?p.coinsData[n][o].error=!0:p.coinsData[n][o].error=!1}).finally(function(){p.coinsData[n][o].loadingStatus="determinate"})}p.notExistsInBlockedProvidersList=function(e){return!f[p.currencySelected].has(e)},p.addOrRemoveFromBlockedProviderList=function(e){p.notExistsInBlockedProvidersList(e)?f[p.currencySelected].add(e):f[p.currencySelected].delete(e)},p.getProviders=function(){return p.visibleFiltersDialog?Array.from(new Set(r.get().concat(Array.from(u[p.currencySelected])))).sort():[]},p.anyProviderCheckedInFiltersDialog=function(){return f[p.currencySelected].size==p.getProviders().length},p.doFilterProviders=function(){(!Array.from(f[p.currencySelected]).every(u[p.currencySelected].has.bind(u[p.currencySelected]))||0<u[p.currencySelected].size&&0==f[p.currencySelected].size||u[p.currencySelected].size>f[p.currencySelected].size)&&(u[p.currencySelected]=new Set(f[p.currencySelected]),g.localStorage.setItem("blocked_providers_ars",JSON.stringify(Array.from(u.ARS))),g.localStorage.setItem("blocked_providers_usd",JSON.stringify(Array.from(u.USD))),p.updatePrices(void 0,!0)),n.hide()},p.changePriceDisabled=!1,p.whenChangeCurrency=function(e){d.push(e)},p.updatePrices=function(e,t){for(var a in v.clear(),y.clear(),t?g.gtag("event","providers_filtered",{event_category:"user_action",event_label:b().join()||"Unfiltered"}):(e&&(p.currencySelected=e),g.gtag("event","currency_change",{event_category:"user_action",event_label:p.currencySelected}),p.changePriceDisabled=!0,u[p.currencySelected]=new Set(JSON.parse(g.localStorage.getItem("blocked_providers_"+p.currencySelected.toLowerCase()))),f[p.currencySelected]=new Set(JSON.parse(g.localStorage.getItem("blocked_providers_"+p.currencySelected.toLowerCase()))),r.clear()),S={},l={},d)d[a]();t?(c=!0,m(function(){c=!1},1e3)):m(function(){p.changePriceDisabled=!1},2500),g.localStorage.setItem("currency_selected",p.currencySelected)},p.btc_title="<i class='crypto-icon btc'></i> <h2>BITCOIN</h2>",p.eth_title="<i class='crypto-icon eth'></i> <h2>ETHEREUM</h2>",p.dai_title="<i class='crypto-icon dai'></i> <h2>DAI</h2>",p.usdc_title="<i class='crypto-icon usdc'></i> <h2>USDC</h2>",p.usdt_title="<i class='crypto-icon usdt'></i> <h2>USDT</h2>",p.coinsData={},p.specificRollData={};var h={body:"Hay una nueva oportunidad con $COIN.",icon:"/static/img/logo-navidad-web.png?v1"},A=new Set;function C(){p.rollsLoadingStatus="indeterminate",t.get(g.PRICES_ENDPOINT+"/rolls/"+p.currencySelected+(0<b().length?"?not="+b().join():""),{headers:{"If-None-Match":S[p.currencySelected+b().join("")]}}).then(function(e){var t=[];S[p.currencySelected+b().join("")]=e.headers("Etag");var a="";for(o in Array.from(A))w(!1,Array.from(A)[o].toLowerCase());for(o in e.data)a!=e.data[o].k&&(a=e.data[o].k),e.data[o].buy.fields[p.currencySelected]&&e.data[o].sell.fields[p.currencySelected]?(e.data[o].buy.fields.price=e.data[o].buy.fields[p.currencySelected],e.data[o].sell.fields.price=e.data[o].sell.fields[p.currencySelected],e.data[o].buy.fields.currencyMask="ARS"==p.currencySelected?"$":"US$",e.data[o].sell.fields.currencyMask="ARS"==p.currencySelected?"$":"US$",t.push(e.data[o]),w(!0,a,e.data[o])):w(!1,a);if(p.rollsLoadingStatus="determinate",!window.IS_MOBILE){var n,o,r,i,l,c=new Set,s=new Set,d=new Set;for(o in A.forEach(d.add,d),t)if(d.delete(t[o].k.toUpperCase()),!p.customAlertsEnabled||p.customAlertsEnabled&&0<p.customAlertsConfig.coins.filter(function(e){return e.code==t[o].k.toUpperCase()&&e.selected}).length&&parseFloat(t[o].difference.replace(",","."))>=p.customAlertsConfig.profit){if(v.has(t[o].k.toUpperCase())&&y.has(t[o].k.toUpperCase()+"|"+t[o].buy.fields.name.toUpperCase()+"|"+t[o].sell.fields.name.toUpperCase()))y.has(t[o].k.toUpperCase()+"|"+t[o].buy.fields.name.toUpperCase()+"|"+t[o].sell.fields.name.toUpperCase())&&.5<=parseFloat(t[o].difference.replace(",","."))-y.get(t[o].k.toUpperCase()+"|"+t[o].buy.fields.name.toUpperCase()+"|"+t[o].sell.fields.name.toUpperCase())&&s.add(t[o].k.toUpperCase());else{v.add(t[o].k.toUpperCase()),c.add(t[o].k.toUpperCase());var u,f=Array.from(y.keys());for(u in f)f[u].substring(0,3)==t[o].k.toUpperCase()&&y.delete(f[u])}y.set(t[o].k.toUpperCase()+"|"+t[o].buy.fields.name.toUpperCase()+"|"+t[o].sell.fields.name.toUpperCase(),parseFloat(t[o].difference.replace(",",".")))}d.forEach(v.delete,v),document.hidden&&!window.IS_MOBILE&&"Notification"in window&&"granted"===Notification.permission&&p.alertsEnabled&&(0<c.size||0<s.size)&&(c.forEach(v.add,v),s.forEach(v.add,v),0<c.size&&(n="",o=1,l=JSON.parse(JSON.stringify(h)),c.forEach(function(e){2==o&&c.size==o?n+=" y "+e:2==o?n+=", "+e:1==o&&(n+=e),o++}),r=0,2==c.size?(r=1,l.body="Hay oportunidades con $COIN."):2<c.size&&(r=2,l.body="Hay oportunidades con $COIN y m√°s."),l.body=l.body.replace("$COIN",n),new Notification(["üì£","üéâ","ü•≥"][r]+" Ten√©s una alerta",l).onclick=function(){window.focus(),g.gtag("event","notification",{event_category:"user_action",event_label:"click"})},i=[],y.forEach(function(e,t){i.push(t+"|"+e)}),g.gtag("event","notification_sended",{event_category:"system_action",event_label:i.toString(",")})),0<s.size&&((l=0)<c.size&&(l=1e4),m(function(){var t="",a=1,e=JSON.parse(JSON.stringify(h));s.forEach(function(e){2==a&&s.size==a?t+=" y "+e:2==a?t+=", "+e:1==a&&(t+=e),a++}),s.size<=2?e.body="Mejor√≥ una oportunidad con $COIN.":2<s.size&&(e.body="Mejor√≥ una oportunidad con $COIN y m√°s."),e.body=e.body.replace("$COIN",t),new Notification(["üí∞","üìà","üî•"][Math.floor(3*Math.random())]+" Aument√≥ el porcentaje de ganancia",e).onclick=function(){window.focus(),g.gtag("event","notification",{event_category:"user_action",event_label:"click"})}},l)))}},function(e){304!==e.status&&w(!1),p.rollsLoadingStatus="determinate"})}function w(e,t,a){if(t)p.specificRollData[t]&&delete p.specificRollData[t].manuallySetted,p.specificRollData[t]=p.specificRollData[t]||{},p.specificRollData[t].show=e,a&&(p.specificRollData[t].data=a,3.5<=parseFloat(p.specificRollData[t].data.difference.replace(",","."))&&p.specificRollData[t].data.buy.fields.score&&p.specificRollData[t].data.sell.fields.score&&3.5<=p.specificRollData[t].data.buy.fields.score.average_transfer_speed_rating&&3.5<=p.specificRollData[t].data.sell.fields.score.average_transfer_speed_rating?(p.specificRollData[t].score=3,p.trackSystem("unique_opportunity","show")):delete p.specificRollData[t].score);else if(!e){var n,o=Object.keys(p.specificRollData);for(n in o)delete p.specificRollData[o[n]]}}A.add("BTC"),A.add("ETH"),A.add("DAI"),A.add("USDC"),A.add("USDT");var I=!(p.showFiltersDialog=function(e){c||(p.visibleFiltersDialog=!0,n.show({contentElement:"#filters-dialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0,escapeToClose:!0,fullscreen:!0,onRemoving:function(){p.visibleFiltersDialog=!1}}))}),E=!1;p.showRollCalculatorDialog=function(e,t){E=I=!1,p.showCalculatorWarning=!1,g.gtag("event","roll_calculator",{event_category:"user_action",event_label:"open_"+t+"_"+p.currencySelected}),p.selectedCoinForRoll=t,p.rollCalculator={amount:("BTC"!=t.toUpperCase()&&"ETH"!=t.toUpperCase()?1e3*p.specificRollData[p.selectedCoinForRoll].data.buy.fields[p.currencySelected].ask:p.specificRollData[p.selectedCoinForRoll].data.buy.fields[p.currencySelected].ask).toString().replace(".",",")},p.calculatorRollData=Object.assign({},p.specificRollData[t]);var a=p.$watch("specificRollData[selectedCoinForRoll]",function(e,t){e&&e.manuallySetted||e===t||(I||e&&(!e||e===t||e.data.buy.fields.name===t.data.buy.fields.name&&e.data.sell.fields.name===t.data.sell.fields.name)?I||E||e===t||e.data.buy.fields.name!==t.data.buy.fields.name||e.data.sell.fields.name!==t.data.sell.fields.name||e.data.buy.fields[p.currencySelected].ask===t.data.buy.fields[p.currencySelected].ask&&e.data.sell.fields[p.currencySelected].bid===t.data.sell.fields[p.currencySelected].bid||(E=!0,p.calculatorWarningText="Los precios que est√°s viendo est√°n desactualizados.",p.calculatorWarningCTAText="ACTUALIZAR",p.calculatorWarningCTAAvailable=!0,p.showCalculatorWarning=!0):(I=!0,p.calculatorWarningText="Esta oportunidad ya no est√° disponible.",p.calculatorWarningCTAAvailable=!1,p.showCalculatorWarning=!0))},!0);n.show({contentElement:"#roll-calculator-dialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0,escapeToClose:!0,fullscreen:!0,onRemoving:function(){a()}})},p.updateValuesInRollCalculator=function(){p.calculatorWarningCTAAvailable&&(p.specificRollData[p.selectedCoinForRoll].manuallySetted=!0,p.calculatorRollData=Object.assign({},p.specificRollData[p.selectedCoinForRoll]),p.showCalculatorWarning=!1,E=!1)},p.getMinimumRollInversion=function(e){if(!e||!e.buy.fields[p.currencySelected]||!e.sell.fields[p.currencySelected])return!1;if(e){var t=1e6/e.buy.fields[p.currencySelected].ask*e.sell.fields[p.currencySelected].bid-1e6;return 1e6*(1e3+e.gas_costs)/t}},p.showAlertsPermissionDialog=function(e,t){(p.alertsForcedFiltersStep=t)?p.customizeAlerts():(p.step1Alerts=!0,p.step2Alerts=!1,p.step3Alerts=!1),n.show({contentElement:"#alerts-permission-dialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0,escapeToClose:!0,fullscreen:!0})};var O={body:"¬°Hola! As√≠ se ver√°n las notificaciones üòâ",icon:"/static/img/logo-navidad-web.png?v1"},D={body:"Te mantendremos informado.",icon:"/static/img/logo-navidad-web.png?v1"};if(p.customAlertsEnabled)p.availableOptionsForAlerts=JSON.parse(g.localStorage.getItem("custom_alerts_config"))||{};else for(var k in p.availableOptionsForAlerts={coins:[],profit:void 0},Array.from(A))p.availableOptionsForAlerts.coins.push({code:Array.from(A)[k],selected:!1});function R(e,t,a){this._mdPanelRef=e,this.$timeout=t,this.$window=a}p.isCoinsIndeterminatedInAlertCustomization=function(){return 0<p.availableOptionsForAlerts.coins.filter(function(e){return e.selected}).length&&!p.allCoinsSelectedInAlertCustomization()},p.allCoinsSelectedInAlertCustomization=function(){return 0===p.availableOptionsForAlerts.coins.filter(function(e){return!e.selected}).length},p.anyCoinSelectedInCustomization=function(){return 0<p.availableOptionsForAlerts.coins.filter(function(e){return e.selected}).length},p.toggleAllCoinsInAlertCustomization=function(){p.allCoinsSelectedInAlertCustomization()?p.availableOptionsForAlerts.coins.forEach(function(e){e.selected=!1}):p.availableOptionsForAlerts.coins.filter(function(e){return!e.selected}).forEach(function(e){e.selected=!0})},p.customizeAlerts=function(){p.step1Alerts=!1,p.step2Alerts=!0,p.step3Alerts=!1},p.enableAlerts=function(){p.step1Alerts=!1,p.step2Alerts=!1,p.step3Alerts=!0,p.customAlertsConfig=p.availableOptionsForAlerts,g.localStorage.setItem("custom_alerts_config",angular.toJson(p.customAlertsConfig)),g.gtag("event","notifications_configured",{event_category:"user_action",event_label:p.customAlertsConfig.coins.filter(function(e){return e.selected}).map(function(e){return e.code}).toString(",")+"|"+p.customAlertsConfig.profit}),"Notification"in window&&"granted"===Notification.permission?(p.cancelModal(),g.localStorage.getItem("custom_alerts_enabled")?p.alertsForcedFiltersStep?i.sendSnackbarAlert("¬°Listo! Guardamos los cambios."):new Notification("¬°Te damos la bienvenida!",O):new Notification("üéâ Ya ten√©s alertas personalizadas",D),p.alertsEnabled=!0,p.customAlertsEnabled=!0,g.localStorage.removeItem("generic_alerts_enabled"),g.localStorage.setItem("custom_alerts_enabled",!0),g.gtag("event","notifications_change",{event_category:"user_action",event_label:"re_enabled_with_customization"})):"Notification"in window&&"denied"!==Notification.permission&&Notification.requestPermission().then(function(e){"granted"===e?(p.cancelModal(),new Notification("¬°Te damos la bienvenida!",O),p.alertsEnabled=!0,p.customAlertsEnabled=!0,g.localStorage.removeItem("generic_alerts_enabled"),g.localStorage.setItem("custom_alerts_enabled",!0),g.gtag("event","notifications_change",{event_category:"user_action",event_label:"enabled_with_customization"})):g.gtag("event","notifications_change",{event_category:"user_action",event_label:"rejected_with_customization"})})},p.disableAlerts=function(){p.cancelModal(),p.alertsEnabled=!1,p.customAlertsEnabled=!1,p.customAlertsConfig={},g.localStorage.setItem("generic_alerts_enabled",!1),g.localStorage.setItem("custom_alerts_enabled",!1),g.localStorage.removeItem("custom_alerts_config"),i.sendSnackbarAlert("Desactivaste las alertas.<br/>No volveremos a notificarte cuando haya nuevas oportunidades."),g.gtag("event","notifications_change",{event_category:"user_action",event_label:"disabled"})},p.cancelModal=function(){n.cancel()},R.$inject=["mdPanelRef","$timeout","$window"],R.prototype.$onInit=function(){this.$timeout(function(){var e=document.querySelector(".comparative-tables-menu-item.selected");(e?angular.element(e):angular.element(document.querySelectorAll(".comparative-tables-menu-item")[0])).focus()})},R.prototype.selectOption=function(e){this._mdPanelRef&&this._mdPanelRef.close().then(function(){g.location.href=e})},R.prototype.indexOf=function(e,t){for(var a,n=0;a=e[n];n++)if(a===t)return n;return-1},R.prototype.onMouseOver=function(e){angular.element(e.srcElement||e.target).focus()},R.prototype.onKeydown=function(e,t){var a,n;switch(e.which){case 38:(n=document.querySelectorAll(".comparative-tables-menu-item"))[(this.indexOf(n,document.activeElement)+n.length-1)%n.length].focus(),a=!0;break;case 40:(n=document.querySelectorAll(".comparative-tables-menu-item"))[(this.indexOf(n,document.activeElement)+1)%n.length].focus(),a=!0;break;case 13:case 32:this.selectOption(t),a=!0;break;case 9:this._mdPanelRef&&this._mdPanelRef.close()}a&&(e.preventDefault(),e.stopImmediatePropagation())},p.showComparativeTablesMenu=function(e,t,a){t=o.newPanelPosition().relativeTo(".comparative-tables-menu-button-"+t+"-"+a.fields.id).addPanelPosition(o.xPosition.ALIGN_START,o.yPosition.BELOW),e={attachTo:angular.element(document.body),controller:R,controllerAs:"ctrl",template:'<div class="comparative-tables-menu"      aria-label="Opciones del proveedor"      role="listbox">  <div class="comparative-tables-menu-item"        tabindex="-1"        role="option"        ng-repeat="option in ctrl.options"        ng-click="ctrl.selectOption(option.url)"       ng-mouseover="ctrl.onMouseOver($event)"       ng-keydown="ctrl.onKeydown($event, option.url)">    {{ option.text }}   </div></div>',position:t,locals:{options:[{text:"Ficha t√©cnica",url:"/comisiones-y-limites/"+("ripio-exchange"==a.fields.id?"ripio":a.fields.id)},{text:"Ver opiniones",url:"/opiniones/"+("ripio-exchange"==a.fields.id?"ripio":a.fields.id)+"/"}]},openFrom:e,clickOutsideToClose:!0,escapeToClose:!0,focusOnOpen:!1,zIndex:10};o.open(e)},!window.IS_MOBILE&&"Notification"in window&&"granted"===Notification.permission&&p.alertsEnabled||(p.alertsEnabled=!1,g.localStorage.setItem("generic_alerts_enabled",!1));var N=["btc","eth","dai","usdc","usdt"],T=["ask","bid"],$=[];!function(){for(var e in C(),N)for(var t in T)_(N[e],T[t]),$[N[e]+T[t]]={interval:s(function(e,t){_(e,t)},6e4,0,!0,N[e],T[t]),handled:!0},function(e,t){d.push(function(){_(e,t)})}(N[e],T[t]);var r,i,l=s(C,6e4),c=!0;document.addEventListener("visibilitychange",function(){for(var e in p.getAlertsEnabled()||(c=!0,s.cancel(l),m.cancel(r),document.hidden?c=!1:(l=s(C,6e4),r=m(C,500))),N){var t,a=N[e];for(t in T){var n=T[t];$[a+n]=$[a+n]||{};var o=$[a+n];o.handled=!0,s.cancel(o.interval),m.cancel(o.future_execution),document.hidden?o.handled=!1:(o.interval=s(function(e,t){_(e,t)},6e4,0,!0,a,n),o.future_execution=m(function(e,t){_(e,t)},500,!0,a,n))}}}),window.addEventListener("focus",function(){for(var e in p.getAlertsEnabled()||(m.cancel(i),i=m(function(){c||(s.cancel(l),m.cancel(r),l=s(C,6e4),r=m(C,1),c=!0)},499)),N){var t,a=N[e];for(t in T){var n=T[t];$[a+n]=$[a+n]||{};var o=$[a+n];m.cancel(o.focusTimeout),o.focusTimeout=m(function(){o.handled||(s.cancel(o.interval),m.cancel(o.future_execution),o.interval=s(function(e,t){_(e,t)},6e4,0,!0,a,n),o.future_execution=m(function(e,t){_(e,t)},1,!0,a,n))},499)}}})}()}]).filter("makePositive",function(){return function(e){return Math.abs(e)}}).directive("sanitizeCalculatorInput",function(){return{require:"ngModel",link:function(e,t,a,n){e.$watch(a.ngModel,function(e){null!=e&&(n.$setViewValue(String(e).replace(/,/g,".").replace(/\$/g,"").substring(0,9)),t.val(String(e).replace(/,/g,".").replace(/\$/g,"").substring(0,9)))})}}}).directive("input",function(){return{restrict:"E",require:"ngModel",link:function(e,t,a,n){"number"===t[0].type&&(n.$parsers.push(function(e){return Number(e)}),n.$formatters.push(function(e){return parseFloat(e,10)}))}}});