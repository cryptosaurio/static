(this["webpackJsonpfront-in-react"]=this["webpackJsonpfront-in-react"]||[]).push([[33],{275:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return R}));var c,s=t(43),n=t(18),r=t(4),i=t(25),o=t(0),l=t.n(o),d=t(6),b=t(234),j=t(122),m=t(123),u=t(142),g=t(26),p=t(2),O=t(13),x=t(130),h=t(284),w=t(212),f=t(282),v=t(1),N=l.a.lazy((function(){return Promise.all([t.e(3),t.e(4)]).then(t.bind(null,169))})),y=Object(x.a)(h.a)((function(e){var a,t=e.theme;return a={},Object(i.a)(a,".".concat(w.a.root),{color:t.palette.common.white}),Object(i.a)(a,"a.".concat(w.a.root),{border:"1px solid rgba(55, 65, 81, var(--tw-bg-opacity))",backgroundColor:"inherit"}),Object(i.a)(a,"a.".concat(w.a.root,".").concat(w.a.selected),{color:"rgba(96, 165, 250, var(--tw-border-opacity))",border:"1px solid rgba(96, 165, 250, var(--tw-border-opacity))"}),a}));function R(){return Object(v.jsx)(u.a,{reCaptchaKey:"6Le6vr8ZAAAAAH6G2kvLs-VDT1cKIa_UGepnpMBI",children:Object(v.jsx)(_,{})})}function _(){var e={page:"provider-reviews",country:window.COUNTRY},a=Object(g.useTracking)(e).trackEvent,t=Object(m.a)().t,l=Object(u.b)().executeRecaptcha,x=Object(p.h)(),h=x.providerId,w=x.orderBy,R=x.page;Object(o.useEffect)((function(){var t={event:"pageview"};"production"===window.ENV?a(t):console.log(e,t)}),[]);var _=Object(o.useState)(null),T=Object(r.a)(_,2),C=T[0],E=T[1],U=Object(o.useState)(null),B=Object(r.a)(U,2),A=B[0],Y=B[1],S=Object(o.useState)({}),k=Object(r.a)(S,2),P=k[0],I=k[1],L=Object(o.useState)([]),D=Object(r.a)(L,2),z=D[0],M=D[1],V=Object(o.useState)(null),F=Object(r.a)(V,2),W=F[0],q=F[1],J=Object(o.useState)(!1),G=Object(r.a)(J,2),H=G[0],K=G[1],Z=Object(o.useRef)(null),Q=Object(o.useState)(!1),X=Object(r.a)(Q,2),$=X[0],ee=X[1],ae=Object(o.useState)(-1!==Object.values(c).indexOf(w)&&c["".concat("br"===window.COUNTRY?"BR_":"").concat(Object.keys(c)[Object.values(c).indexOf(w)])]||"br"!==window.COUNTRY?c.NEWEST:c.BR_NEWEST),te=Object(r.a)(ae,2),ce=te[0],se=te[1],ne=Object(o.useState)(R||1),re=Object(r.a)(ne,2),ie=re[0],oe=re[1];function le(e,a){l&&l("vote_review").then((function(t){fetch("br"!==window.COUNTRY?"".concat(window.BARNEY_API_URL,"/").concat(window.COUNTRY,"/review/"):"".concat(window.BARNEY_BR_API_URL,"/review/"),{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({id:e,operation_type:a,captcha_response:t})}).then((function(){})).catch((function(){}))}))}return Object(o.useEffect)((function(){fetch("br"!==window.COUNTRY?"".concat(window.BARNEY_API_URL,"/").concat(window.COUNTRY,"/provider/").concat(h):"".concat(window.BARNEY_BR_API_URL,"/provider/").concat(h)).then((function(e){return e.json()})).then((function(e){e.provider_id=e.id,E(e)})).catch((function(){E(null)}))}),[]),Object(o.useEffect)((function(){var e=h.indexOf("p2p")>-1?"?merge=true":"";fetch("br"!==window.COUNTRY?"".concat(window.BARNEY_API_URL,"/").concat(window.COUNTRY,"/reviews/").concat(h,"/general-info").concat(e):"".concat(window.BARNEY_BR_API_URL,"/reviews/").concat(h,"/general-info").concat(e)).then((function(e){return e.json()})).then((function(e){Y(e)})).catch((function(){Y(null)}))}),[]),Object(o.useEffect)((function(){var e=h.indexOf("p2p")>-1?"?merge=true":"";fetch("br"!==window.COUNTRY?"".concat(window.BARNEY_API_URL,"/").concat(window.COUNTRY,"/reviews/").concat(h,"/").concat(ce,"/").concat(ie).concat(e):"".concat(window.BARNEY_BR_API_URL,"/reviews/").concat(h,"/").concat(ce,"/").concat(ie).concat(e)).then((function(e){return e.json()})).then((function(e){I((function(a){return Object(n.a)(Object(n.a)({},a),Object(i.a)({},ce,Object(i.a)({},ie,e)))}))})).catch((function(){}))}),[ie,ce]),Object(o.useEffect)((function(){"br"!==window.COUNTRY?history.pushState({},document.title,"/".concat(window.COUNTRY,"/opiniones/").concat(h,"/").concat(ce,"/1")):history.pushState({},document.title,"/opinioes/".concat(h,"/").concat(ce,"/1"))}),[ce]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"mx-5 mt-5",itemType:"http://schema.org/Product",children:[Object(v.jsx)("span",{className:"mt-5 text-2xl items-center",itemProp:"aggregateRating",itemScope:!0,itemType:"https://schema.org/AggregateRating",children:Object(v.jsxs)("div",{className:"flex flex-row",children:[Object(v.jsx)("img",{crossOrigin:"anonymous",ref:function(e){return Z.current=e},onLoad:function(){return ee(!0)},src:C&&C.icon,className:["rounded-full mx-5 w-16 h-16",!$&&"animate-pulse bg-gray-600 p-8"].join(" "),alt:C&&C.name}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("span",{className:"flex",children:[Object(v.jsx)("h1",{className:["font-bold",!C&&"animate-pulse bg-gray-600 w-32 h-8"].join(" "),itemProp:"name",children:C&&C.name}),Object(v.jsx)(d.B,{className:"w-8 h-8 text-blue-400 ml-2","aria-hidden":"true"}),A&&Object(v.jsx)("p",{itemProp:"ratingValue",children:A.rating||"-"})]}),A&&Object(v.jsxs)("span",{className:"mb-0.5 text-sm",children:[Object(v.jsx)("span",{itemProp:"reviewCount",children:A.count})," ",1==A.count?t("opinion"):t("opiniones")]})||Object(v.jsx)("div",{className:"w-24 h-5 mt-3 bg-gray-600 animate-pulse"})]})]})}),A&&Object(v.jsxs)("div",{className:"grid md:grid-cols-4 gap-5 text-center pt-4",children:[C&&Object(v.jsx)(v.Fragment,{children:-1===C.id.indexOf("p2p")&&Object(v.jsxs)("div",{className:"grid grid-flow-row gap-2 bg-gray-700 py-3 rounded-lg col-span-1",children:[Object(v.jsx)("img",{src:"/static/img/transfer-speed-rating-dino.webp",loading:"lazy",className:"w-20 h-20 m-auto"}),Object(v.jsx)("h2",{children:t("Velocidad de transferencias")}),Object(v.jsxs)("span",{className:"m-auto flex rounded-lg px-3 bg-gray-700 text-white items-center w-max border border-blue-400",children:[Object(v.jsx)(d.B,{className:"w-5 h-5 mr-1 text-blue-400","aria-hidden":"true"}),A.average_transfer_speed_rating||"-"]})]})||Object(v.jsxs)("div",{className:"grid grid-flow-row gap-2 bg-gray-700 py-3 rounded-lg col-span-1",children:[Object(v.jsx)("img",{src:"/static/img/transfer-speed-rating-dino.webp",loading:"lazy",className:"w-20 h-20 m-auto"}),Object(v.jsx)("h2",{children:t("Liquidez")}),Object(v.jsxs)("span",{className:"m-auto flex rounded-lg px-3 bg-gray-700 text-white items-center w-max border border-blue-400",children:[Object(v.jsx)(d.B,{className:"w-5 h-5 mr-1 text-blue-400","aria-hidden":"true"}),A.average_liquidity_rating||"-"]})]})})||Object(v.jsxs)("div",{className:"grid grid-flow-row gap-2 bg-gray-700 py-4 rounded-lg col-span-1",children:[Object(v.jsx)("div",{className:"w-20 h-20 m-auto bg-gray-800 animate-pulse"}),Object(v.jsx)("div",{className:"bg-gray-800 w-32 h-5 animate-pulse m-auto"}),Object(v.jsx)("div",{className:"bg-gray-800 w-16 h-6 rounded-lg animate-pulse m-auto mt-1 -mb-1.5"})]}),Object(v.jsxs)("div",{className:"grid grid-flow-row gap-2 bg-gray-700 py-3 rounded-lg col-span-1",children:[Object(v.jsx)("img",{src:"/static/img/usability-rating-dino.webp",loading:"lazy",className:"w-20 h-20 m-auto"}),Object(v.jsx)("h2",{children:t("Facilidad de uso")}),Object(v.jsxs)("span",{className:"m-auto flex rounded-lg px-3 bg-gray-700 text-white items-center w-max border border-blue-400",children:[Object(v.jsx)(d.B,{className:"w-5 h-5 mr-1 text-blue-400","aria-hidden":"true"}),A.average_usability_rating||"-"]})]}),Object(v.jsxs)("div",{className:"grid grid-flow-row gap-2 bg-gray-700 py-3 rounded-lg col-span-1",children:[Object(v.jsx)("img",{src:"/static/img/support-rating-dino.webp",loading:"lazy",className:"w-20 h-20 m-auto"}),Object(v.jsx)("h2",{children:t("Calidad de atenci\xf3n")}),Object(v.jsxs)("span",{className:"m-auto flex rounded-lg px-3 bg-gray-700 text-white items-center w-max border border-blue-400",children:[Object(v.jsx)(d.B,{className:"w-5 h-5 mr-1 text-blue-400","aria-hidden":"true"}),A.average_support_rating||"-"]})]})]}),!A&&Object(v.jsxs)("div",{className:"grid md:grid-cols-4 gap-5 text-center pt-4",children:[Object(v.jsxs)("div",{className:"grid grid-flow-row gap-2 bg-gray-700 py-4 rounded-lg col-span-1",children:[Object(v.jsx)("div",{className:"w-20 h-20 m-auto bg-gray-800 animate-pulse"}),Object(v.jsx)("div",{className:"bg-gray-800 w-32 h-5 animate-pulse m-auto"}),Object(v.jsx)("div",{className:"bg-gray-800 w-16 h-6 rounded-lg animate-pulse m-auto mt-1 -mb-1.5"})]}),Object(v.jsxs)("div",{className:"grid grid-flow-row gap-2 bg-gray-700 py-4 rounded-lg col-span-1",children:[Object(v.jsx)("div",{className:"w-20 h-20 m-auto bg-gray-800 animate-pulse"}),Object(v.jsx)("div",{className:"bg-gray-800 w-32 h-5 animate-pulse m-auto"}),Object(v.jsx)("div",{className:"bg-gray-800 w-16 h-6 rounded-lg animate-pulse m-auto mt-1 -mb-1.5"})]}),Object(v.jsxs)("div",{className:"grid grid-flow-row gap-2 bg-gray-700 py-4 rounded-lg col-span-1",children:[Object(v.jsx)("div",{className:"w-20 h-20 m-auto bg-gray-800 animate-pulse"}),Object(v.jsx)("div",{className:"bg-gray-800 w-32 h-5 animate-pulse m-auto"}),Object(v.jsx)("div",{className:"bg-gray-800 w-16 h-6 rounded-lg animate-pulse m-auto mt-1 -mb-1.5"})]})]}),Object(v.jsxs)("div",{className:"grid grid-flow-row pt-5",children:[Object(v.jsxs)("div",{className:"grid grid-cols-3 sm:grid-cols-10 sm:justify-between md:mr-32 lg:mr-52 xl:mr-72",children:[Object(v.jsxs)("h2",{className:"col-span-7 self-center text-xl flex",children:[t("Opiniones sobre")," ",C&&C.name||Object(v.jsx)("div",{className:"bg-gray-600 w-24 h-5 mt-1 animate-pulse ml-1"})]}),Object(v.jsx)(b.a,{value:ce,onChange:function(e){oe(1),se(e)},children:Object(v.jsxs)("div",{className:"relative col-span-2 sm:col-start-8 lg:col-start-8 sm:col-span-3",children:[Object(v.jsxs)(b.a.Button,{className:"w-full py-2 pl-3 pr-10 text-left rounded-lg shadow-md cursor-default sm:text-sm",children:[Object(v.jsx)("span",{className:"block truncate",children:t(Object.keys(c)[Object.values(c).indexOf(ce)])}),Object(v.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:Object(v.jsx)(d.x,{className:"w-5 h-5","aria-hidden":"true"})})]}),Object(v.jsx)(j.a,{as:o.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(v.jsx)(b.a.Options,{className:"z-10 absolute w-full py-1 mt-1 overflow-auto text-base bg-gray-700 rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:Object.keys(c).map((function(e,a){return Object(v.jsx)(b.a.Option,{value:Object.values(c)[a],className:function(e){var a=e.active;return"".concat(a&&"bg-gray-500","\n                            cursor-default select-none relative py-2 pl-10 pr-4")},children:function(e){var s=e.selected;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"".concat(s?"font-medium":"font-normal"," block truncate"),children:t(Object.keys(c)[a])}),s?Object(v.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:Object(v.jsx)(d.i,{className:"w-5 h-5","aria-hidden":"true"})}):null]})}},e)}))})})]})})]}),Object(v.jsxs)("div",{className:"grid grid-flow-row md:mr-32 lg:mr-52 xl:mr-72",children:[ce in P&&ie in P[ce]&&P[ce][ie].map((function(e,a){return Object(v.jsxs)("div",{className:"grid grid-flow-row border border-blue-400 my-5 py-5 p-3",children:[Object(v.jsxs)("div",{className:"grid grid-flow-col justify-between pb-2",children:[Object(v.jsx)("div",{className:"flex",children:Object(s.a)(Array(Math.ceil(e.average_rating))).map((function(e,a){return Object(v.jsx)(d.B,{className:"w-8 h-8 text-blue-400 ml-2","aria-hidden":"true"},a)}))}),Object(v.jsx)("div",{children:e.date})]}),Object(v.jsx)("p",{className:"ml-2 pb-2",children:e.review_comment}),Object(v.jsxs)("div",{className:"flex flex-auto-col gap-10",children:[Object(v.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",children:[Object(v.jsx)(d.D,{onClick:function(){e.alreadyUpvoted||(e.alreadyUpvoted=!0,I(Object(n.a)({},P)),le(e.pk,"upvote"))},className:["w-5 h-5 ml-2",e.alreadyUpvoted&&"text-gray-600"].join(" "),"aria-hidden":"true"}),e.alreadyUpvoted&&e.upvoted+1||e.upvoted]}),Object(v.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",children:[Object(v.jsx)(d.C,{onClick:function(){e.alreadyDownvoted||(e.alreadyDownvoted=!0,I(Object(n.a)({},P)),le(e.pk,"downvote"))},className:["w-5 h-5 ml-2",e.alreadyDownvoted&&"text-gray-600"].join(" "),"aria-hidden":"true"}),(0!==e.downvoted||e.alreadyDownvoted)&&"-",e.alreadyDownvoted&&e.downvoted+1||e.downvoted]})]})]},a)}))||Object(s.a)(Array(5)).map((function(e,a){return Object(v.jsxs)("div",{className:"grid grid-flow-row border border-blue-400 my-5 py-5 p-3",children:[Object(v.jsxs)("div",{className:"grid grid-flow-col justify-between pb-2",children:[Object(v.jsx)("div",{className:"flex",children:Object(s.a)(Array(a+1)).map((function(e,a){return Object(v.jsx)(d.B,{className:"w-8 h-8 text-gray-400 ml-2 animate-pulse","aria-hidden":"true"},a)}))}),Object(v.jsx)("div",{className:"w-24 h-5 bg-gray-600 animate-pulse"})]}),Object(v.jsxs)("div",{className:"ml-2 pb-2 mb-2",children:[Object(v.jsx)("p",{className:"mb-2 bg-gray-700 animate-pulse w-full h-3"}),Object(v.jsx)("p",{className:"bg-gray-700 animate-pulse w-44 sm:w-80 h-3"})]}),Object(v.jsxs)("div",{className:"flex flex-auto-col gap-10",children:[Object(v.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",children:[Object(v.jsx)(d.D,{className:"w-5 h-5 ml-2","aria-hidden":"true"}),Object(v.jsx)("span",{className:"w-5 h-5 bg-gray-600 animate-pulse"})]}),Object(v.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",children:[Object(v.jsx)(d.C,{className:"w-5 h-5 ml-2","aria-hidden":"true"}),Object(v.jsx)("span",{className:"w-5 h-5 bg-gray-600 animate-pulse"})]})]})]},a)})),A&&Math.floor(A.count/5)>1&&Object(v.jsx)("div",{className:"w-max mx-auto",children:Object(v.jsx)(y,{page:+ie,count:Math.floor(A.count/5),showFirstButton:!0,showLastButton:!0,variant:"outlined",shape:"rounded",renderItem:function(e){return Object(v.jsx)(f.a,Object(n.a)(Object(n.a)({},e),{},{component:O.b,to:"".concat("br"!==window.COUNTRY&&"/".concat(window.COUNTRY)||"").concat(t("/opiniones/")).concat(h,"/").concat(ce,"/").concat(e.page),color:"primary"}))},onChange:function(e,a){oe(a),history.pushState({},document.title,"".concat("br"!==window.COUNTRY&&"/".concat(window.COUNTRY)||"").concat(t("/opiniones/")).concat(h,"/").concat(ce,"/").concat(a)),e.preventDefault()}})})||!A&&Object(v.jsx)("div",{className:"flex mx-auto gap-2 w-max",children:Object(s.a)(Array(10)).map((function(e,a){return Object(v.jsx)("div",{className:"animate-pulse bg-gray-600 h-8 w-8 rounded-md"},a)}))})]})]})]}),C&&Object(v.jsxs)("div",{className:"grid grid-flow-row gap-5 lg:grid-flow-col lg:gap-16 mx-5 pb-10",children:[-1===z.indexOf(C.id)&&Object(v.jsxs)("div",{className:"w-full grid grid-cols-10 my-5 bg-white cursor-pointer relative h-full",onClick:function(){q(C),K(!0)},children:[Object(v.jsxs)("div",{className:"col-span-7 grid grid-flow-row text-black mx-5",children:[Object(v.jsx)("span",{className:"flex pt-5",children:Object(v.jsxs)("p",{className:"font-bold text-lg",children:[t("Opina sobre")," ",C.name]})}),Object(v.jsx)("p",{children:t("Suma tu experiencia y ayuda a otros a tomar buenas decisiones.")})]}),Object(v.jsx)("img",{loading:"lazy",src:"/static/img/leave-a-review-banner.webp",className:"col-span-2 absolute -right-3 -bottom-3.5 h-36"})]}),-1===C.id.indexOf("p2p")&&Object(v.jsxs)("a",{className:"w-full grid grid-cols-10 my-5 bg-white cursor-pointer relative h-full",href:"/".concat("br"!=window.COUNTRY?window.COUNTRY:"","/").concat(t("comisiones-y-limites"),"/").concat(C.id),target:"_blank",rel:"noreferrer",children:[Object(v.jsxs)("div",{className:"col-span-7 grid grid-flow-row text-black mx-5",children:[Object(v.jsx)("span",{className:"flex pt-5",children:Object(v.jsxs)("p",{className:"font-bold text-lg",children:[t("Mira la ficha t\xe9cnica de")," ",C.name]})}),Object(v.jsx)("p",{children:t("Consulta cu\xe1nto cobra de comisi\xf3n, qu\xe9 l\xedmites tiene y mucho m\xe1s.")})]}),Object(v.jsx)("img",{loading:"lazy",src:"/static/img/provider-technical-data-banner.webp",className:"col-span-2 absolute -right-5 bottom-0 h-28"})]})]}),H&&Object(v.jsx)(o.Suspense,{fallback:Object(v.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:Object(v.jsx)("div",{className:"min-h-screen px-4",children:Object(v.jsx)("div",{className:"fixed inset-0 backdrop-filter backdrop-blur-sm"})})}),children:Object(v.jsx)(N,{reviewModalIsOpen:H,executeRecaptcha:l,setReviewModalIsOpen:K,selectedProvider:W,setSelectedProvider:q,providerList:[C],alreadyRecommended:z,setAlreadyRecommended:M})})]})}!function(e){e.NEWEST="mas-recientes",e.BEST_REVIEWED="mayor-puntuacion",e.MOST_VOTED="mas-votados",e.BR_NEWEST="mais-recentes",e.BR_BEST_REVIEWED="pontuacao-mais-alta",e.BR_MOST_VOTED="mais-votados"}(c||(c={}))}}]);