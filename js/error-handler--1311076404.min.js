window.onerror=function(r,e,n,o,t){return reportError({"[JS Error]":r,Script:e,Line:n,Column:o,StackTrace:t}),!1},window.addEventListener("unhandledrejection",function(r){alert("Error occurred: "+r.reason.message),reportError({"[JS Error]":r.reason.message})});var o=[];function reportError(r){var e,n;o.indexOf(JSON.stringify(r))<0&&(o.push(JSON.stringify(r)),e=new XMLHttpRequest,n=window.BARNEY_ENDPOINT+"/report-js-error","br"==window.COUNTRY&&(n=window.BARNEY_ENDPOINT+"/"+window.COUNTRY+"/report-js-error"),e.open("POST",n,!0),e.setRequestHeader("Content-Type","application/json"),e.send(JSON.stringify({info:r,userAgent:navigator.userAgent,url:window.location.href})))}