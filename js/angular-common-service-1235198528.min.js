var e=angular.module("app");e.service("commonFunctionsService",["$window","$timeout","$mdPanel","snackbar",function(n,e,o,t){this.sendSnackbarAlert=function(e){angular.element(document.querySelector(".snackbar-container .snackbar-opened")).length||t.create(e)},this.tooltipCopySuccessful=function(){angular.element(document.querySelector(".snackbar-container .snackbar-opened")).length||t.create("Copiada")},this.track=function(e,t){n.dataLayer.push({event:"user_action",event_category:e,event_label:t})},this.trackSystem=function(e,t){n.dataLayer.push({event:"system_action",event_category:e,event_label:t})};var c,i=(c=".countries-menu-item",function(e,t,n){this._mdPanelRef=e,this.$timeout=t,this.$window=n,this.custom_class=c});i.$inject=["mdPanelRef","$timeout","$window"],i.prototype.$onInit=function(){this.$timeout(function(){var e=document.querySelector(this.custom_class+".selected");(e?angular.element(e):angular.element(document.querySelectorAll(this.custom_class)[0])).focus()})},i.prototype.selectOption=function(e){this._mdPanelRef&&this._mdPanelRef.close().then(function(){n.location.href=e})},i.prototype.indexOf=function(e,t){for(var n,o=0;n=e[o];o++)if(n===t)return o;return-1},i.prototype.onMouseOver=function(e){angular.element(e.srcElement||e.target).focus()},i.prototype.onKeydown=function(e,t){var n,o;switch(e.which){case 38:(o=document.querySelectorAll(this.custom_class))[(this.indexOf(o,document.activeElement)+o.length-1)%o.length].focus(),n=!0;break;case 40:(o=document.querySelectorAll(this.custom_class))[(this.indexOf(o,document.activeElement)+1)%o.length].focus(),n=!0;break;case 13:case 32:this.selectOption(t),n=!0;break;case 9:this._mdPanelRef&&this._mdPanelRef.close()}n&&(e.preventDefault(),e.stopImmediatePropagation())},this.showCountriesMenu=function(e,t){t=o.newPanelPosition().relativeTo(".select-country-menu-button-"+t).addPanelPosition(o.xPosition.ALIGN_START,o.yPosition.BELOW),e={attachTo:angular.element(document.body),controller:i,controllerAs:"ctrl",template:'<div class="select-country-menu"      aria-label="Selector de país"      role="listbox">  <div class="country-menu-item"        tabindex="-1"        role="option"        ng-repeat="option in ctrl.options"        ng-click="ctrl.selectOption(option.url)"       ng-mouseover="ctrl.onMouseOver($event)"       ng-keydown="ctrl.onKeydown($event, option.url)">       <div class="fflag fflag-{{option.code}} ff-sm"></div>&nbsp;    {{ option.text }}   </div></div>',position:t,locals:{options:[{code:"AR",text:"Argentina",url:"/ar/"},{code:"MX",text:"México",url:"/mx"}]},openFrom:e,clickOutsideToClose:!0,escapeToClose:!0,focusOnOpen:!1,zIndex:10};o.open(e)}}]);