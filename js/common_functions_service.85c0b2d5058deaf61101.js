angular.module("app").service("commonFunctionsService",["$window","$timeout","$mdPanel","snackbar",function(e,t,o,n){this.sendSnackbarAlert=function(e){angular.element(document.querySelector(".snackbar-container .snackbar-opened")).length||n.create(e)},this.tooltipCopySuccessful=function(){angular.element(document.querySelector(".snackbar-container .snackbar-opened")).length||n.create("Copiada")},this.track=function(t,o){e.dataLayer.push({event:"user_action",event_category:t,event_label:o})},this.trackSystem=function(t,o){e.dataLayer.push({event:"system_action",event_category:t,event_label:o})};var c,i=(c=".countries-menu-item",function(e,t,o){this._mdPanelRef=e,this.$timeout=t,this.$window=o,this.custom_class=c});i.$inject=["mdPanelRef","$timeout","$window"],i.prototype.$onInit=function(){this.$timeout((function(){var e=document.querySelector(this.custom_class+".selected");e?angular.element(e).focus():angular.element(document.querySelectorAll(this.custom_class)[0]).focus()}))},i.prototype.selectOption=function(t){this._mdPanelRef&&this._mdPanelRef.close().then((function(){e.location.href=t}))},i.prototype.indexOf=function(e,t){for(var o,n=0;o=e[n];n++)if(o===t)return n;return-1},i.prototype.onMouseOver=function(e){angular.element(e.srcElement||e.target).focus()},i.prototype.onKeydown=function(e,t){var o,n;switch(e.which){case 38:(n=document.querySelectorAll(this.custom_class))[(this.indexOf(n,document.activeElement)+n.length-1)%n.length].focus(),o=!0;break;case 40:(n=document.querySelectorAll(this.custom_class))[(this.indexOf(n,document.activeElement)+1)%n.length].focus(),o=!0;break;case 13:case 32:this.selectOption(t),o=!0;break;case 9:this._mdPanelRef&&this._mdPanelRef.close()}o&&(e.preventDefault(),e.stopImmediatePropagation())},this.isOutstandingInNavAlreadyClicked=function(t){return!!JSON.parse(e.localStorage.getItem("outstanding_in_"+t+"_nav_clicked"))||!1},this.hideOutstandingDotInNav=function(t){e.localStorage.setItem("outstanding_in_"+t+"_nav_clicked",!0)},this.showCountriesMenu=function(e){var t=o.newPanelPosition().relativeTo(".select-country-menu-button").addPanelPosition(o.xPosition.ALIGN_START,o.yPosition.BELOW),n={attachTo:angular.element(document.body),controller:i,controllerAs:"ctrl",template:'<div class="select-country-menu"      role="listbox">  <div class="country-menu-item"        tabindex="-1"        role="option"        ng-repeat="option in ctrl.options"        ng-click="ctrl.selectOption(option.url)"       ng-mouseover="ctrl.onMouseOver($event)"       ng-keydown="ctrl.onKeydown($event, option.url)">       <div class="fflag fflag-{{option.code}} ff-sm"></div>&nbsp;    {{ option.text }}   </div></div>',position:t,locals:{options:[{code:"AR",text:"Argentina",url:"https://www.cryptosaurio.com/ar/"},{code:"BR",text:"Brasil",url:"https://www.cryptossauro.com/"},{code:"CL",text:"Chile",url:"https://www.cryptosaurio.com/cl/"},{code:"CO",text:"Colombia",url:"https://www.cryptosaurio.com/co/"},{code:"MX",text:"México",url:"https://www.cryptosaurio.com/mx/"},{code:"PE",text:"Perú",url:"https://www.cryptosaurio.com/pe/"},{code:"VE",text:"Venezuela",url:"https://www.cryptosaurio.com/ve/"}]},openFrom:e,clickOutsideToClose:!0,escapeToClose:!0,focusOnOpen:!1,zIndex:10};o.open(n)}}]);