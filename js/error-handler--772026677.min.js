window.onerror=function(r,e,n,o,t){return reportError({"[JS Error]":r,Script:e,Line:n,Column:o,StackTrace:t}),!1},window.addEventListener("unhandledrejection",function(r){alert("Error occurred: "+r.reason.message),reportError({"[JS Error]":r.reason.message})});var n=[];function reportError(r){var e;n.indexOf(JSON.stringify(r))<0&&(n.push(JSON.stringify(r)),(e=new XMLHttpRequest).open("POST",window.BARNEY_ENDPOINT+"/report-js-error",!0),e.setRequestHeader("Content-Type","application/json"),e.send(JSON.stringify({info:r,userAgent:navigator.userAgent,url:window.location.href})))}