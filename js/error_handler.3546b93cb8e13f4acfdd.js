(()=>{window.onerror=function(n,r,e,o,t){return reportError({"[JS Error]":n,Script:r,Line:e,Column:o,StackTrace:t}),!1},window.addEventListener("unhandledrejection",(function(n){reportError({"[JS Error]":n.reason.message})}));var n=[];function reportError(r){if(n.indexOf(JSON.stringify(r))<0){n.push(JSON.stringify(r));var e=new XMLHttpRequest;e.open("POST",window.BARNEY_ENDPOINT+"/report-js-error",!0),e.setRequestHeader("Content-Type","application/json"),e.send(JSON.stringify({info:r,userAgent:navigator.userAgent,url:window.location.href}))}}window.reportError=reportError})();