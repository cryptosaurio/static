(()=>{window.onerror=function(n,e,r,t,i){return reportError({"[JS Error]":n,Script:e,Line:r,Column:t,StackTrace:i}),!1},window.addEventListener("unhandledrejection",(function(n){reportError({"[JS Error]":n.reason.message})}));var n=[];function reportError(e){if(n.indexOf(JSON.stringify(e))<0){n.push(JSON.stringify(e));var r=new XMLHttpRequest;r.open("POST",window.BARNEY_ENDPOINT+"/report-js-error",!0),r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify({info:e,userAgent:navigator.userAgent,url:window.location.href}))}}})();