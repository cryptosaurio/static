window.onerror=function(n,e,r,t,o){return reportError({"[JS Error]":n,Script:e,Line:r,Column:t,StackTrace:o}),!1},window.addEventListener("unhandledrejection",function(n){reportError({"[JS Error]":n.reason.message})});var r=[];function reportError(n){var e;r.indexOf(JSON.stringify(n))<0&&(r.push(JSON.stringify(n)),(e=new XMLHttpRequest).open("POST",window.BARNEY_ENDPOINT+"/report-js-error",!0),e.setRequestHeader("Content-Type","application/json"),e.send(JSON.stringify({info:n,userAgent:navigator.userAgent,url:window.location.href})))}