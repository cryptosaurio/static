!function(){"use strict";function t(e,i){return{restrict:"A",scope:{title:"@",fixedPosition:"=",titleClass:"@"},link:function(s,c,o){s.createTooltip=function(t){(o.title||o.tooltip)&&(s.getDirection(),s.tooltipElement=angular.element("<div>").addClass("angular-tooltip").addClass(s.titleClass),(angular.element(document).find("body").hasClass("md-dialog-is-showing")?angular.element(document.getElementById("p2p-dialog")):angular.element(document).find("body")).append(s.tooltipElement),s.updateTooltip(o.title||o.tooltip),s.tooltipElement.addClass("angular-tooltip-fade-in"))},s.updateTooltip=function(t){s.tooltipElement.html(t),i(s.tooltipElement.contents())(s);t=s.calculatePosition(s.tooltipElement,s.getDirection());s.tooltipElement.addClass("angular-tooltip-"+t.direction).css(t),e(function(){c.removeAttr("ng-attr-title"),c.removeAttr("title")})},s.$watch("title",function(t){s.tooltipElement&&s.updateTooltip(t)}),s.removeTooltip=function(){angular.element(document.querySelectorAll(".angular-tooltip")).remove()},s.getDirection=function(){return c.attr("tooltip-direction")||c.attr("title-direction")||"top"},s.calculatePosition=function(t,o){var e=t[0].getBoundingClientRect(),i=c[0].getBoundingClientRect(),n=window.scrollX||document.documentElement.scrollLeft,l=window.scrollY||document.documentElement.scrollTop,r=12,a={},p=null;return s.stringStartsWith(o,"left")?a.left=i.left-e.width-6+n:s.stringStartsWith(o,"right")?a.left=i.left+i.width+6+n:s.stringContains(o,"left")?a.left=i.left-e.width+r+n:s.stringContains(o,"right")?a.left=i.left+i.width-r+n:a.left=i.left+i.width/2-e.width/2+n,s.stringStartsWith(o,"top")?a.top=i.top-e.height-6+l:s.stringStartsWith(o,"bottom")?a.top=i.top+i.height+6+l:s.stringContains(o,"top")?a.top=i.top-e.height+r+l:s.stringContains(o,"bottom")?a.top=i.top+i.height-r+l:a.top=i.top+i.height/2-e.height/2+l,s.fixedPosition&&(a.left<n?p=o.replace("left","right"):a.left+e.width>window.innerWidth+n&&(p=o.replace("right","left")),a.top<l?p=o.replace("top","bottom"):a.top+e.height>window.innerHeight+l&&(p=o.replace("bottom","top")),p)?s.calculatePosition(t,p):(a.left+="px",a.top+="px",a.direction=o,a)},s.stringStartsWith=function(t,o){return t.substr(0,o.length)===o},s.stringContains=function(t,o){return-1!==t.indexOf(o)},o.title||o.tooltip?(c.on("mouseover",s.createTooltip),c.on("mouseout",s.removeTooltip)):(c.off("mouseover",s.createTooltip),c.off("mouseout",s.removeTooltip)),c.on("destroy",s.removeTooltip),s.$on("$destroy",s.removeTooltip)}}}t.$inject=["$timeout","$compile"],angular.module("tooltips",[]).directive("title",t).directive("tooltip",t)}();